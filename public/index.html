<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/skeleton.css">
    <link rel="icon" type="image/png" href="images/favicon.png"><!--change this icon!!!!-->
    <meta name="description" content="Create travel goals">
    <meta name="keyword" content="Travel, Goals, Destination, Cheap, Flights, Inspiration">
    <meta name="author" content="Theresa Le">
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="489209747870-jhijb9tj50sencsjo8mk0sicl24umtdr.apps.googleusercontent.com">
    <title>Travel Goals</title>
</head>
<body ng-app="myApp">

<div class="container">
   <!--  <div class="row">
      <div class="one-half column" style="margin-top: 25%">
        <h4>Travel Goals</h4>
        <p>This index.html page is a placeholder with the CSS, font and favicon. It's just waiting for you to add some content! If you need some help hit up the <a href="http://www.getskeleton.com">Skeleton documentation</a>.</p>
      </div>
    </div> -->

    <div ng-controller="userCtrl">  
        <div class="g-signin2" data-onsuccess="onSignIn"></div>

        <button onclick="signOut();">Sign out</button>
        <script>
            function signOut() {
                var auth2 = gapi.auth2.getAuthInstance();
                auth2.signOut().then(function () {
                  console.log('User signed out.');
                });
            }
        </script>
        <br><br>
        <div class="row">
            <div class="six columns">
                <h1 ng-bind="name"></h1>
            </div>
            <div class="six columns">
                Homebase: {{home_city}}
                <form ng-submit="updateHomeCity()">
                    <input class="u-half-width" type="text" placeholder="City" ng-model="newHome_city">
                    <input class="button-primary" type="submit" value="Update Home City">
                </form>  
            </div>
        </div>
    </div>

    <div ng-controller="travelGoalsCtrl">
        <div class="row">
            <div class="six columns">
                <h3><b>Your Travel Goals</h3></b>
            </div>
            <div class="six columns">
                <label for="priorityFilter">Priority</label>
                    <select class="u-full-width" ng-model="priorityFilter">
                        <option value="">All</option>
                        <option value="1">High</option>
                        <option value="2">Medium</option>
                        <option value="3">Low</option>
                    </select>
            </div>
        </div>
    <div ng-repeat="goal in goalsArray | filter:priorityFilter">
        <h4>{{goal.location}}</h4>
        <p>{{goal.summary}}</p>
        <br><hr><br>
        </div>
        
        <h3>Add Travel Goal</h3>
        <form ng-submit="addTravelGoal()">
          <div class="row">
            <div class="six columns">
                <label for="location">Location {{locationResponse}}</label>
                <input class="u-half-width" ng-change="checkLocation()" type="text" placeholder="City/Country" ng-model="location">
                <select ng-model="location_type">
                        <option value="">Choose</option>
                        <option value="country">Country</option>
                        <option value="city">City</option>
                </select>
            </div>
            <div class="six columns">
                <label for="priority">Priority</label>
                <select class="u-full-width" ng-model="priority">
                    <option value="1">High</option>
                    <option value="2">Medium</option>
                    <option value="3">Low</option>
                </select>
            </div>
        </div>
        <label for="summary">Summary</label>
        <textarea class="u-full-width" placeholder="Write your summary" ng-model="summary" required></textarea>
        <input class="button-primary" type="submit" value="Submit">
        </form>
    </div>
</div>


<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="app.js"></script>
<script src="https://apis.google.com/js/platform.js?onload=onLoadCallback" async defer></script>

</body>
</html>
